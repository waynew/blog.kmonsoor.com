<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>kmonsoor's online hub</title><link href="http://blog.kmonsoor.com/" rel="alternate"></link><link href="/tag/programming/feed/atom/index.html" rel="self"></link><id>http://blog.kmonsoor.com/</id><updated>2015-12-01T00:00:00+06:00</updated><entry><title>Se7en Deadly Sins to Do in Python code</title><link href="http://blog.kmonsoor.com/seven-deadly-sins-in-python-code/" rel="alternate"></link><updated>2015-11-21T00:05:00+06:00</updated><author><name>Khaled Monsoor</name></author><id>tag:blog.kmonsoor.com,2015-08-10:seven-deadly-sins-in-python-code/</id><summary type="html">&lt;h3&gt;Prelude&lt;/h3&gt;
&lt;p&gt;I have used the word &amp;#8220;deadly&amp;#8221; to express the potential to diminish the productivity of a Python programmer or his fellow teammate(s) who will work on the same code. Please take all these with quite a bit of salt, due to my limited expertise &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; limited experience with different types of projects based on&amp;nbsp;Python.*&lt;/p&gt;
&lt;p&gt;&lt;em&gt;7&lt;/em&gt; is just a catchy number. And, of course, this top list is subject to change along with my experience.&lt;br /&gt;
You are also most welcome to suggest your own-finding to make into this&amp;nbsp;list.&lt;/p&gt;
&lt;p&gt;There are a lot of ways someone can make his (or her) Python code extremely difficult for himself and his fellow developers to work with and maintain. However, some are quite destructive by virtue. These ones are in my&amp;nbsp;top-list.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;1. The &lt;code&gt;try: except: pass&lt;/code&gt; trio&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;You know about design patterns, right ? At least, you know a little&amp;nbsp;bit.  &lt;/p&gt;
&lt;p&gt;From &lt;a href="https://en.wikipedia.org/wiki/Software_design_pattern"&gt;Wikipedia&lt;/a&gt;,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Design patterns can speed up the development process by providing tested, proven development&amp;nbsp;paradigms. &lt;/p&gt;
&lt;p&gt;Effective software design requires considering issues that may not become visible until later in the implementation. Reusing design patterns helps to prevent subtle issues that can cause major problems, and it also improves code readability for coders and architects who are familiar with the&amp;nbsp;patterns.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now, think of the complete opposite of design-pattern. It is called &lt;em&gt;anti-pattern&lt;/em&gt; which silently &amp;#8220;destroys&amp;#8221; efficiency in code. The below pattern can be considered the most deadly anti-pattern in Python code.&lt;br /&gt;
&lt;a href="http://redsymbol.net/"&gt;Aaron Maxwell&lt;/a&gt; called it &lt;a href="https://realpython.com/blog/python/the-most-diabolical-python-antipattern/"&gt;most diabolical&lt;/a&gt; or &amp;#8221;evil&amp;#8221;&amp;nbsp;anti-pattern.&lt;/p&gt;
&lt;div class="codehilite" style="background: #202020"&gt;&lt;pre style="line-height: 125%"&gt;&lt;span style="color: #6ab825; font-weight: bold"&gt;try&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;:&lt;/span&gt;
    &lt;span style="color: #d0d0d0"&gt;subtle_buggy_operation()&lt;/span&gt;   &lt;span style="color: #999999; font-style: italic"&gt;# possibly with I/O or DB operation&lt;/span&gt;
&lt;span style="color: #6ab825; font-weight: bold"&gt;except&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;:&lt;/span&gt;
    &lt;span style="color: #6ab825; font-weight: bold"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You thought to save some development time by &amp;#8220;pass&amp;#8221;ing them by. But, it will take hours, if not days, to find possible bugs, inside the block, later as all the exceptions are masked by the &amp;#8220;pass&amp;#8221; and the error location will be somewhere else outside this &lt;code&gt;try:except&lt;/code&gt; block which may look like the most innocent&amp;nbsp;code.&lt;/p&gt;
&lt;p&gt;Again, quoting from Aaron&amp;nbsp;&amp;#8230;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In my nearly ten years of experience writing applications in Python, both individually and as part of a team, this pattern has stood out as the single greatest drain on developer productivity and application reliability, especially over the long&amp;nbsp;term.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;&lt;strong&gt;2. Wildcard imports i.e. &lt;code&gt;from module import *&lt;/code&gt; &lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;This one single practice can render a nice (clean) module into a nightmare. According to a core Python developer &lt;a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#importing"&gt;David Goodger&lt;/a&gt;,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Wild-card imports are from the dark side of&amp;nbsp;Python.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Never!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;from module import *&lt;/code&gt; wild-card style leads to namespace pollution. You&amp;#8217;ll get things in your local namespace that you didn&amp;#8217;t expect to get. You may see imported names obscuring module-defined local names. You won&amp;#8217;t be able to figure out where certain names come from. Although a convenient shortcut, this should not be in production&amp;nbsp;code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Moral:&lt;/strong&gt; don&amp;#8217;t use wild-card&amp;nbsp;imports!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also, in light of &lt;a href="http://www.yodaquotes.net/"&gt;Yoda&amp;#8217;s mythical conversation&lt;/a&gt;s, David&amp;nbsp;writes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class="caps"&gt;LUKE&lt;/span&gt;: Is from module import * better than explicit imports?&lt;br /&gt;
&lt;span class="caps"&gt;YODA&lt;/span&gt;: No, not better. Quicker, easier, more seductive.&lt;br /&gt;
&lt;span class="caps"&gt;LUKE&lt;/span&gt;: But how will I know why explicit imports are better than the wild-card form?&lt;br /&gt;
&lt;span class="caps"&gt;YODA&lt;/span&gt;: Know you will when your code you try to read six months from&amp;nbsp;now.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you use this practice in between inter-connected modules in a mid-sized project, worry not. You&amp;#8217;ll start to get errors due to circular references soon&amp;nbsp;enough.&lt;/p&gt;
&lt;p&gt;Sounds funny&amp;nbsp;?&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;3. Thinking that &lt;code&gt;try:except:else&lt;/code&gt; construct is not a natural control flow in&amp;nbsp;Python&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;If you are coming from Java(or, similar) world, I understand your confusion. However, Python adopted this construct so much different than Java. It helps to realize Python&amp;#8217;s philosophy &lt;a href="https://docs.python.org/2/glossary.html#term-eafp"&gt;Ask for Forgiveness than Permission&lt;/a&gt;, aka &amp;#8221;&lt;span class="caps"&gt;EAFP&lt;/span&gt;&amp;nbsp;paradigm&amp;#8221;.&lt;/p&gt;
&lt;p&gt;Trying to avoid this will result in messy, unpythonic code. As this &lt;a href="http://stackoverflow.com/a/16138864/617185"&gt;great answer on StackOverflow&lt;/a&gt;, by a core Python developer, Raymond Hettinger, on this matter where he nicely portrays the philosophy behind&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Quoting him&amp;nbsp;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In the Python world, using exceptions for flow control is common and normal. Even the Python core developers use exceptions for flow-control and that style is heavily baked into the language (i.e. the iterator protocol uses &lt;em&gt;StopIteration&lt;/em&gt; to signal loop termination). In addition, the try-except-style is used to prevent the race-conditions inherent in some of the &amp;#8221;look-before-you-leap&amp;#8221;&amp;nbsp;constructs.  &lt;/p&gt;
&lt;p&gt;For example, testing &lt;code&gt;os.path.exists&lt;/code&gt; results in information that may be out-of-date by the time you use it. Likewise, &lt;code&gt;Queue.full&lt;/code&gt; returns information that may be stale. The &lt;code&gt;try:except:else&lt;/code&gt; style will produce more reliable code in these cases. In some other languages, that rule reflects their cultural norms as reflected in their libraries. The &amp;#8220;rule&amp;#8221; is also based in-part on performance considerations for those&amp;nbsp;languages.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also, consider checking out &lt;a href="http://stackoverflow.com/a/180974/617185"&gt;this Q&amp;amp;A on StackOverflow&lt;/a&gt; on the same&amp;nbsp;premise.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;4. Making everything a Class aka Overusing&amp;nbsp;classes&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;What I am referring to is &lt;a href="https://www.youtube.com/watch?v=o9pEzgHorH0"&gt;this talk by Jack Diederich&lt;/a&gt; on PyCon 2012. You should watch this couple of times and then once in every week.&lt;br /&gt;
His summary is like &amp;#8230; &lt;strong&gt;Stop&lt;/strong&gt; creating classes, and modules in every now and then. Before creating one, think hard. Probably, what you need is writing just a&amp;nbsp;function.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.python.org/dev/peps/pep-0020/"&gt;Zen of Python&lt;/a&gt; described it as below.
Read it again, again, and&amp;nbsp;again.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Beautiful is better than&amp;nbsp;ugly.&lt;/li&gt;
&lt;li&gt;Explicit is better than&amp;nbsp;implicit.&lt;/li&gt;
&lt;li&gt;Simple is better than&amp;nbsp;complex.&lt;/li&gt;
&lt;li&gt;Flat is better than&amp;nbsp;nested.&lt;/li&gt;
&lt;li&gt;Readability&amp;nbsp;counts.&lt;/li&gt;
&lt;li&gt;If the implementation is hard to explain, it&amp;#8217;s a bad&amp;nbsp;idea.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Though the below is a perfectly valid class, it is a perfect example case of b***sh*t&amp;nbsp;classes:&lt;/p&gt;
&lt;div class="codehilite" style="background: #202020"&gt;&lt;pre style="line-height: 125%"&gt;&lt;span style="color: #6ab825; font-weight: bold"&gt;class&lt;/span&gt; &lt;span style="color: #447fcf; text-decoration: underline"&gt;Greeting&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;object&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;):&lt;/span&gt;
    &lt;span style="color: #6ab825; font-weight: bold"&gt;def&lt;/span&gt; &lt;span style="color: #447fcf"&gt;__init__&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;self&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;greeting=&lt;/span&gt;&lt;span style="color: #ed9d13"&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;):&lt;/span&gt;
        &lt;span style="color: #24909d"&gt;self&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;.greeting&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;=&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;greeting&lt;/span&gt;

    &lt;span style="color: #6ab825; font-weight: bold"&gt;def&lt;/span&gt; &lt;span style="color: #447fcf"&gt;greet&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;self&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;name):&lt;/span&gt;
        &lt;span style="color: #6ab825; font-weight: bold"&gt;return&lt;/span&gt; &lt;span style="color: #ed9d13"&gt;&amp;#39;%s! %s&amp;#39;&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;%&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;self&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;.greeting,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;name)&lt;/span&gt;

&lt;span style="color: #d0d0d0"&gt;greeting&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;=&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;Greeting(&lt;/span&gt;&lt;span style="color: #ed9d13"&gt;&amp;#39;hola&amp;#39;&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;)&lt;/span&gt;
&lt;span style="color: #6ab825; font-weight: bold"&gt;print&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;greeting.greet(&lt;/span&gt;&lt;span style="color: #ed9d13"&gt;&amp;#39;bob&amp;#39;&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It is doing exactly same&amp;nbsp;as:&lt;/p&gt;
&lt;div class="codehilite" style="background: #202020"&gt;&lt;pre style="line-height: 125%"&gt;&lt;span style="color: #6ab825; font-weight: bold"&gt;def&lt;/span&gt; &lt;span style="color: #447fcf"&gt;greet&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(greeting,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;target):&lt;/span&gt;
    &lt;span style="color: #6ab825; font-weight: bold"&gt;return&lt;/span&gt; &lt;span style="color: #ed9d13"&gt;&amp;#39;%s! %s&amp;#39;&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;%&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;(greeting,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;target)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;He also showed a practical example how he simplified (aka re-factored) an &lt;span class="caps"&gt;API&lt;/span&gt;&amp;#8217;s complete code,&amp;nbsp;consisting:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 Package, 22&amp;nbsp;Modules,&lt;/li&gt;
&lt;li&gt;20&amp;nbsp;Classes,&lt;/li&gt;
&lt;li&gt;660 Source Lines of&amp;nbsp;Code&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;into this below, a grand total of 8 lines. Yes, just 8 lines&amp;nbsp;!!!&lt;/p&gt;
&lt;div class="codehilite" style="background: #202020"&gt;&lt;pre style="line-height: 125%"&gt;&lt;span style="color: #d0d0d0"&gt;MUFFIN_API&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;=&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;url=&lt;/span&gt;&lt;span style="color: #ed9d13"&gt;&amp;#39;https://api.wbsrvc.com/%s/%s/&amp;#39;&lt;/span&gt;
&lt;span style="color: #d0d0d0"&gt;MUFFIN_API_KEY&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;=&lt;/span&gt; &lt;span style="color: #ed9d13"&gt;&amp;#39;SECRET-API-KEY&amp;#39;&lt;/span&gt;

&lt;span style="color: #6ab825; font-weight: bold"&gt;def&lt;/span&gt; &lt;span style="color: #447fcf"&gt;request&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(noun,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;verb,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;**params):&lt;/span&gt;
    &lt;span style="color: #d0d0d0"&gt;headers&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;=&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;{&lt;/span&gt;&lt;span style="color: #ed9d13"&gt;&amp;#39;apikey&amp;#39;&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;:&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;MUFFIN_API_KEY}&lt;/span&gt;
    &lt;span style="color: #d0d0d0"&gt;request&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;=&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;urllib2.Request(MUFFIN_API&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;%&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;(noun,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;verb),&lt;/span&gt; \
                              &lt;span style="color: #d0d0d0"&gt;urllib.urlencode(params),&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;headers)&lt;/span&gt;
    &lt;span style="color: #6ab825; font-weight: bold"&gt;return&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;json.loads(urllib2.urlopen(request).read())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Moral:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stop re-inventing the&amp;nbsp;wheel, &lt;/li&gt;
&lt;li&gt;use more of built-in library&amp;nbsp;functions, &lt;/li&gt;
&lt;li&gt;use much-less own long chains of&amp;nbsp;class-hierarchy. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Still want to see a worst scenario of creating classes? Check this&amp;nbsp;out:&lt;/p&gt;
&lt;div class="codehilite" style="background: #202020"&gt;&lt;pre style="line-height: 125%"&gt;&lt;span style="color: #6ab825; font-weight: bold"&gt;class&lt;/span&gt; &lt;span style="color: #447fcf; text-decoration: underline"&gt;Flow&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;object&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;):&lt;/span&gt;
    &lt;span style="color: #ed9d13"&gt;&amp;quot;&amp;quot;&amp;quot;Base class for all Flow objects.&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span style="color: #6ab825; font-weight: bold"&gt;pass&lt;/span&gt;

&lt;span style="color: #6ab825; font-weight: bold"&gt;class&lt;/span&gt; &lt;span style="color: #447fcf; text-decoration: underline"&gt;Storage&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;object&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;):&lt;/span&gt;
    &lt;span style="color: #6ab825; font-weight: bold"&gt;def&lt;/span&gt; &lt;span style="color: #447fcf"&gt;put&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;self&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;,&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;data):&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;_abstract()&lt;/span&gt;
    &lt;span style="color: #6ab825; font-weight: bold"&gt;def&lt;/span&gt; &lt;span style="color: #447fcf"&gt;get&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;(&lt;/span&gt;&lt;span style="color: #24909d"&gt;self&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;):&lt;/span&gt; &lt;span style="color: #d0d0d0"&gt;_abstract()&lt;/span&gt;

&lt;span style="color: #6ab825; font-weight: bold"&gt;def&lt;/span&gt; &lt;span style="color: #447fcf"&gt;_abstract&lt;/span&gt;&lt;span style="color: #d0d0d0"&gt;():&lt;/span&gt; &lt;span style="color: #6ab825; font-weight: bold"&gt;raise&lt;/span&gt; &lt;span style="color: #bbbbbb"&gt;NotImplementedError&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Yes, this is a real piece of code from Google &lt;span class="caps"&gt;API&lt;/span&gt; client code. (which, in total, has &lt;em&gt;10,000 &lt;span class="caps"&gt;SLOC&lt;/span&gt;, 115 modules, 207 classes&lt;/em&gt;). Whereas &lt;a href="https://github.com/jackdied/python-foauth2"&gt;someone did implemented the same&lt;/a&gt;, well maybe not extremely robust, but in &lt;em&gt;135 &lt;span class="caps"&gt;SLOC&lt;/span&gt;, 3 classes&lt;/em&gt; in&amp;nbsp;total.&lt;/p&gt;
&lt;p&gt;You see the point, right? Guido did. &lt;a href="https://plus.google.com/+JackDiederich/posts/iPiqWHjwcf3"&gt;Check his&amp;nbsp;comment.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="guido-google-comment" src="http://blog.kmonsoor.com/images/articles/guido-google-comment.jpg" /&gt;&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;5. Saving time by not writing any documentation or inline&amp;nbsp;comments&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;If you don&amp;#8217;t write comments with your semi-obfuscated code, and no docstrings as well saving time and meeting deadlines, stay assure that within a short period you&amp;#8217;ll hate yourself when you will not remember what (&amp;amp; why) you did something while reading your own&amp;nbsp;code.&lt;/p&gt;
&lt;p&gt;Today or tomorrow, you will leave the company. And, that code will haunt all the members of your team who will come across this code-like zombies; unless they totally cut-off-the-head(e.g. replace) of your&amp;nbsp;code. &lt;/p&gt;
&lt;p&gt;There is just no excuse that you don&amp;#8217;t do &amp;#8220;documentation&amp;#8221; except you just don&amp;#8217;t care. If you would care, you would not only write minimal doc-strings and comments on complex code-sections, but also name your functions, methods, variables to reflect the purpose of the component to make them&amp;nbsp;&amp;#8220;self-documented&amp;#8221;.&lt;/p&gt;
&lt;p&gt;Here is a nice guide to properly &lt;a href="http://docs.python-guide.org/en/latest/writing/documentation/"&gt;documenting your Python&amp;nbsp;code.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;However, there will still be deniers out there&amp;nbsp;&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;img alt="code-quality" src="https://googledrive.com/host/0B_IybRcQsDwaTGduUi1jR3h6aDQ/blog/code_quality.png" /&gt;
                * source: https://xkcd.com/1513/&amp;nbsp;*&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;6. Avoiding Unit-tests (and doc-tests) until the&amp;nbsp;doomsday comes&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Yes, the judgement day will come.&lt;br /&gt;
It will happen on the production server, with customer&amp;#8217;s downtime due to a &amp;#8221;completely&amp;#8221; manually-tested new feature, which will break something &amp;#8220;almost&amp;#8221;&amp;nbsp;unrelated.&lt;/p&gt;
&lt;p&gt;Yes, your company can lose millions and &lt;a href="http://dougseven.com/2014/04/17/knightmare-a-devops-cautionary-tale/"&gt;can be out of business.&lt;/a&gt; Maybe after some sleep-less night of the development team, the &amp;#8220;bug&amp;#8221; would have found&amp;nbsp;out.&lt;/p&gt;
&lt;p&gt;Maybe, this whole mess could be simply avoided if the developer wrote his/her modules&amp;#8217; &lt;a href="https://docs.python.org/2/library/unittest.html"&gt;unit-test&lt;/a&gt; as well as &lt;a href="https://docs.python.org/2/library/doctest.html"&gt;doctests&lt;/a&gt; for the functions or methods. And, after implementing the feature he would have run the tests once across the project. The online book Dive-in-Python has an excellent introduction on &lt;code&gt;unittest&lt;/code&gt;. Also, you can start with &lt;a href="http://docs.python-guide.org/en/latest/writing/tests/#unittest"&gt;Hitchhiker&amp;#8217;s guide&amp;#8217;s introduction&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;7. Mixing &lt;code&gt;TAB&lt;/code&gt; and &lt;code&gt;SPACE&lt;/code&gt; in the same&amp;nbsp;file&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;You will need no more reason to curse yourself just a while after. It will haunt you whenever you&amp;#8217;ll need to open the source-code in any editor other than your usual one. And, for others, &amp;#8220;oh my! I can&amp;#8217;t literally&amp;nbsp;even&amp;#8230;&amp;#8221;.&lt;/p&gt;
&lt;p&gt;While Python&lt;strong&gt;3&lt;/strong&gt; will simply refuse to interpret this &amp;#8220;half-breed&amp;#8221; file, in Python&lt;strong&gt;2&lt;/strong&gt;, the interpretation of &lt;span class="caps"&gt;TAB&lt;/span&gt; is as if it is converted to spaces using 8-space tab stops. So while executing, you may have no clue how a specific-line is being executed as part of which&amp;nbsp;code-block.&lt;/p&gt;
&lt;p&gt;For any code that you think someday someone else will read or use, to avoid confusion, you should stick with &lt;a href="http://legacy.python.org/dev/peps/pep-0008/#tabs-or-spaces"&gt;&lt;span class="caps"&gt;PEP&lt;/span&gt;-8&lt;/a&gt;, or your team-specific coding style. &lt;span class="caps"&gt;PEP&lt;/span&gt;-8 strongly discourage mixing &lt;span class="caps"&gt;TAB&lt;/span&gt; and Space in a same&amp;nbsp;file.&lt;/p&gt;
&lt;p&gt;Also, check out this &lt;a href="http://programmers.stackexchange.com/a/197839/74557"&gt;Q&amp;amp;A on&amp;nbsp;StackExchange.&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;​1. The first downside is that it quickly becomes a&amp;nbsp;mess.&lt;/p&gt;
&lt;p&gt;&amp;#8230; Formatting should be the task of the &lt;span class="caps"&gt;IDE&lt;/span&gt;. Developers have already enough work to care about the size of tabs, how much spaces will an &lt;span class="caps"&gt;IDE&lt;/span&gt; insert, etc. The code should be formatted correctly, and displayed correctly on other configurations, without forcing developers to think about&amp;nbsp;it.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also, &lt;a href="http://www.secnetix.de/olli/Python/block_indentation.hawk"&gt;remember&amp;nbsp;this&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Furthermore, it can be a good idea to avoid tabs altogether, because the semantics of tabs are not very well-defined in the computer world, and they can be displayed completely differently on different types of systems and editors. &lt;br /&gt;
Also, tabs often get destroyed or wrongly converted during &lt;em&gt;copy-paste&lt;/em&gt; operations, or when a piece of source code is inserted into a web page or other kind of markup&amp;nbsp;code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;&lt;strong&gt;Fin&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;That&amp;#8217;s all for now. That&amp;#8217;s my list. This list hopes to evolve with my experience and expertise as well as the ever-changing collective wisdom of all the Python&amp;nbsp;community.&lt;/p&gt;
&lt;p&gt;What&amp;#8217;s your take on the worst &amp;#8220;un-pythonic&amp;#8221; nightmares in Python code?  Please feel free to share your&amp;nbsp;2-cents.&lt;/p&gt;</summary><category term="best practices"></category><category term="code quality"></category><category term="debugging"></category><category term="programming"></category><category term="python"></category><category term="software development"></category><category term="software documentation"></category><category term="worst practices"></category></entry><entry><title>[Step-by-step][How to] Generate ER diagram from a PostgreSQL (or any) database</title><link href="http://blog.kmonsoor.com/generate-er-diagram-from-sql-database/" rel="alternate"></link><updated>2015-12-01T00:00:00+06:00</updated><author><name>Khaled Monsoor</name></author><id>tag:blog.kmonsoor.com,2014-12-18:generate-er-diagram-from-sql-database/</id><summary type="html">&lt;p&gt;When you are &amp;#8220;study&amp;#8221;-ing (for whatever reason) someone else&amp;#8217;s database, and the database has more than 20 tables, you are in trouble to understand what goes&amp;nbsp;where.&lt;/p&gt;
&lt;p&gt;Now, imagine a database with 300+ tables. It&amp;#8217;s like spaghetti, but not enjoyable. Rather,&amp;nbsp;horrific.&lt;/p&gt;
&lt;p&gt;I faced a similar challenge recently with a database of 250+ tables. Yes, i felt like in a deep sh*t. And, started looking for tools which can describe the tables in at least decent &lt;span class="caps"&gt;ER&lt;/span&gt;-diagram. If anything more, better. And, obviously free as my company is not&amp;nbsp;paying. &lt;/p&gt;
&lt;p&gt;Then, I found &lt;a href="http://schemaspy.sourceforge.net/"&gt;SchemaSpy&lt;/a&gt;, originally authored by &lt;a href="https://sites.google.com/site/johncurrier/"&gt;John Currier&lt;/a&gt;. It generate a complete in-depth &lt;span class="caps"&gt;HTML&lt;/span&gt;-based description (of course, including clickable &lt;span class="caps"&gt;ER&lt;/span&gt;-diagram) of the database, which you can then browse with your browser. My this post is on it&amp;#8217;s basic&amp;nbsp;usage.&lt;/p&gt;
&lt;p&gt;The output will be kind of like this:
&lt;img alt="schemapy output sample" src="https://googledrive.com/host/0B_IybRcQsDwaTGduUi1jR3h6aDQ/blog/schemapy_sample.png" /&gt;&lt;/p&gt;
&lt;p&gt;It is based on Java technologies, but can work its magic on most of the major database technologies. But, you would need a appropriate &lt;span class="caps"&gt;JDBC&lt;/span&gt; connector for that&amp;nbsp;database. &lt;/p&gt;
&lt;p&gt;Quote from the&amp;nbsp;author:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SchemaSpy uses &lt;span class="caps"&gt;JDBC&lt;/span&gt;&amp;#8217;s database metadata extraction services to gather the majority of its information, but has to make vendor-specific &lt;span class="caps"&gt;SQL&lt;/span&gt; queries to gather some information such as the &lt;span class="caps"&gt;SQL&lt;/span&gt; associated with a view and the details of check&amp;nbsp;constraints.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this post, as example, i have shown to use it with PostgreSQL. But, it&amp;#8217;s not the only one supported. You can use ot with any proper &lt;span class="caps"&gt;RDBMS&lt;/span&gt; system as long as it has a &lt;span class="caps"&gt;JDBC&lt;/span&gt;-connector. 
 Now, to use it, you need these&amp;nbsp;staffs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;First of all&lt;/strong&gt;, your system should have &lt;strong&gt;Java runtime&lt;/strong&gt; properly installed. &lt;a href="http://java.com/en/download/manual.jsp"&gt;Download from&amp;nbsp;here.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SchemaSpy, which is a .jar file&lt;/strong&gt;. &lt;a href="http://sourceforge.net/projects/schemaspy/files/"&gt;Get it here&lt;/a&gt;. 
    At the time of writing, it was version&amp;nbsp;5.0.0.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;span class="caps"&gt;JDBC&lt;/span&gt; connector to PostgreSQL&lt;/strong&gt;. Make sure to match your PostgreSQL version. You can &lt;a href="http://jdbc.postgresql.org/download.html"&gt;download it from here&lt;/a&gt;.&lt;br /&gt;
    You can check your PostgreSQL version by executing: &lt;code&gt;SELECT version();&lt;/code&gt; query on &lt;strong&gt;&lt;em&gt;psql&lt;/em&gt;&lt;/strong&gt;&amp;nbsp;prompt.&lt;/li&gt;
&lt;li&gt;Also, SchemaSpy depends on &lt;strong&gt;GarphViz&lt;/strong&gt; to generate the &lt;span class="caps"&gt;ER&lt;/span&gt;-diagrams, so you need to be installed it on your system. Get it from&amp;nbsp;here.(http://www.graphviz.org/Download..php)&lt;/li&gt;
&lt;li&gt;And, of course make sure PostgreSQL instance running &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; serving the database you are trying to&amp;nbsp;visualize.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Quoting from the&amp;nbsp;author:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SchemaSpy uses the dot executable from &lt;a href="http://www.graphviz.org/"&gt;Graphviz&lt;/a&gt; to generate graphical  representations of the table/view relationships. This was initially added for people who see things visually. Now the graphical representation of relationships is a fundamental feature of the&amp;nbsp;tool.  &lt;/p&gt;
&lt;p&gt;Graphviz is not required to view the output generated by SchemaSpy, but &lt;strong&gt;the dot program should be in your &lt;span class="caps"&gt;PATH&lt;/span&gt;&lt;/strong&gt; (not &lt;span class="caps"&gt;CLASSPATH&lt;/span&gt;) when  running SchemaSpy or none of the entity relationship diagrams will be generated (or use the &lt;a href="http://schemaspy.sourceforge.net/#gvparam"&gt;&lt;code&gt;-gv&lt;/code&gt;&lt;/a&gt;&amp;nbsp;option).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For convenience, i kept the .jar files (&lt;span class="caps"&gt;JDBC&lt;/span&gt;-connector, and SchemaSpy) in my home folder.&lt;br /&gt;
Now, in my case, My &lt;span class="caps"&gt;OS&lt;/span&gt; is Linux, my &lt;span class="caps"&gt;DB&lt;/span&gt;-host address is: 127.0.0.1, running PostgreSQL-9.3 at port 5432 . So, i run the command like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="codehilite" style="background: #202020"&gt;&lt;pre style="line-height: 125%"&gt;  $ java -jar ./schemaSpy_5.0.0.jar -t pgsql -host 127.0.0.1:5432 -db your_database_name \
                                    -u your_DB_user_name -p your_password -s public \
                                    -dp ./postgresql-9.3-1102.jdbc3.jar 
                                    -o output_folder
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It may take a little while, depending on the size of the schema of the database.&lt;br /&gt;
After that, you will find the output folder/directory named &lt;code&gt;output_folder&lt;/code&gt;.&lt;br /&gt;
You&amp;#8217;ll see some output when the magic is going on, like&amp;nbsp;this.&lt;/p&gt;
&lt;div class="codehilite" style="background: #202020"&gt;&lt;pre style="line-height: 125%"&gt;  Using database properties: [./schemaSpy_5.0.0.jar]/net/sourceforge/schemaspy/dbTypes/pgsql.properties 
  Gathering schema details................(6sec) 
  Writing/graphing summary......(2sec) 
  Writing/diagramming details..........................(31sec) 
  Wrote relationship details of 113 tables/views to directory &amp;#39;output&amp;#39; in 41 seconds. 

  View the results by opening output_folder/index.html
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now, start browsing the generated docs from &amp;#8220;index.html&amp;#8221; in the output folder.&lt;br /&gt;
Good luck.&amp;nbsp;:) &lt;/p&gt;</summary><category term="db"></category><category term="db-schema"></category><category term="dbms"></category><category term="diagram"></category><category term="ER-diagram"></category><category term="graphviz"></category><category term="java"></category><category term="postgresql"></category><category term="programming"></category><category term="rdbms"></category><category term="schema"></category><category term="schemaspy"></category><category term="visualization"></category></entry></feed>